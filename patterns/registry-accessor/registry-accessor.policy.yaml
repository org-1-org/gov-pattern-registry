kind: policy
metadata:
  name: registry-accessor
  version: "1.0.0"
  description: Governance policies for registry access and pattern loading

rules:
  - id: RA-001
    description: Registry root must exist before any operations
    severity: error
    rationale: Fail-fast prevents confusing errors downstream

  - id: RA-002
    description: Pattern files must follow naming convention {name}.{kind}.yaml
    severity: error
    rationale: Convention over configuration enables discovery without metadata

  - id: RA-003
    description: All patterns must have kind and metadata fields
    severity: error
    rationale: Required fields for schema validation and loading

  - id: RA-004
    description: Source parameter should be explicit in multi-registry operations
    severity: warning
    rationale: Explicit source prevents confusion when multiple registries exist

enforcement:
  - type: fail-fast
    scope: registry-root-check
    action: raise RegistryNotFoundError with helpful message

  - type: validation
    scope: pattern-loading
    action: validate against schema before returning
